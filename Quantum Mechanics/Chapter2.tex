\section{A brief story of classical mechanics}
\subsection{Historical line}
It occurs very often that the logical line reverses the historical line. The following is such a case. Writing with respect to the logical line is better for the coherence of the story while it is harder to understand. So I shall first talk a little bit about the history before getting into the topic, which is better for the understanding of the motivation for proposing those theories.

The very first person to be mentioned is definitely Newton, who published \textit{mathematical principles of natural philosophy} in 1686, which can be regarded as the establishment of Newtonian mechanics.

The second person was another natural philosopher, Euler. He elaborated the subject \textit{calculus of variations} in 1733. The first problem raised in the history of calculus of variation is \textit{brachistochrone curve}, the curve of fastest descent, proposed by Johann Bernoulli in 1696. Using the language of calculus of variation, the problem is reformulated as

\begin{center}
    Find a function $y$ that minimize the following functional:
    \begin{equation}
        T[y] = \int_{x_1}^{x_2} \sqrt{1+y'^2} \diff x.
    \end{equation}
\end{center}

The problem can be generalised to functionals of such kind: $T[y]=\int_{x_1}^{x_2}F(y,\dot{y},x)\diff x$ for some function $F$. And using calculus of variation, the problem is reverted to a differential equation called Euler-Lagrange equation

\begin{equation}
    \label{eq2.2}
    \frac{\partial F}{\partial y} - \frac{\diff}{\diff x}\frac{\partial F}{\partial \dot{y}} = 0.
\end{equation}

\textbf{REMARK}:
\begin{itemize}
    \item The notation $\frac{\partial F}{\partial \dot{y}}$ is a little bit confusing. For the function $F(a, b, c)$, it means $\frac{\partial F}{\partial b}\big \vert_{b=\dot{y}}$, since $\dot{x}$ is not really an argument of $F$.
    \item Lagrange also contributed a lot to this subject. He was working with Euler.
\end{itemize}

The third person was Lagrange. Newtonian mechanics uses force to deal with problems. However, when we need to solve systems with constraints, force might be not convenient. So people were looking for substitutes. The D'Alembert's principle is a good method to deal with constraints with forces. And Lagrange found that forces can be avoided and reformulated classical mechanics in his \textit{MÃ©canique analytique}, 1788, in which he used the concept of \textit{generalized coordinate} and using D'Alembert's principle he obtained the equation of motion as:

\begin{equation}
    \label{eq2.3}
    \frac{\diff}{\diff t}\frac{\partial T}{\partial \dot{x}} - \frac{\partial T}{\partial x} + \frac{\partial V}{\partial x} = 0,
\end{equation}
where $T$ represents kinetic energy and $V$ for potential energy.

Both Euler and he realised some idea of the principle of least action, but not in the modern form. This is formulated by the fourth person, Hamilton:

If you define a function called \textit{Lagrangian} as $L(x, \dot{x}, t) = T - V$, then since $\partial V/\partial \dot{x} = 0$, \eqref{eq2.3} becomes

\begin{equation}
    \label{eq2.4}
    \frac{\partial L}{\partial x} - \frac{\diff}{\diff t}\frac{\partial L}{\partial \dot{x}} = 0.
\end{equation}

You see that \eqref{eq2.4} is of the same form as \eqref{eq2.2}! Thus Hamilton proposed that the equation of motion is a condition for the minimization of some functional. The functional is now known as the \textit{action}:

\begin{equation}
    S[x]\coloneqq\int_{t_1}^{t_2}L(x, \dot{x}, t)\diff t.
\end{equation}

This is known as Hamilton principle.

In addition, Hamilton proposed another reformulation of classical mechanics, which uses the concept of both \textit{generalized coordinate} and \textit{generalized momentum}.

Mathematically, the Lagrangian mechanics is formulated with the tangent bundle of configuration manifold while the Hamiltonian one is with the cotangent bundle, which differs from the former by a Legendre transformation.

\subsection{Lagrange formulism}
With constraints, the configuration space of a classical system will be a submanifold of the  Euclidean space. In this case, it might be redundant to still use Cartesian coordinates since they are not independent when constrained to the manifold. That leads to our first definition:

\begin{definition}
    Given a classical system of configuration manifold $M$, components of a chart of $M$ are called general coordinates.
\end{definition}

\textbf{REMARK}:
\begin{itemize}
    \item Remark for the remarks. Things in the REMARK part are not necessarily related to the main context. It can be aimed for anyone. It is just something I want to note for the current topic. Do not get bothered if you came into some word you do not understand. But finishing reading those words would be helpful to have a grander picture.
    \item I won't give \textit{classical system} a definition since there is nothing special to note here. However, I will use this concept to define a quantum system.
    \item The configuration manifold or configuration space consists of every possible configuration of the classical system. For a given chart of it, the number of general coordinates is the same as the dimension of $M$.
    \item One thing to note for charts is that they only make a local sense and might be ill-defined globally. Thus we need a few charts to form an atlas for a manifold. However, in physics, if there are only few singularities in the chart, we usually just keep working with that. For example, the sphere $S^2$ can not be covered by only one chart, but we are happy to use polar coordinate and usually the singularities do not matter.
    
\end{itemize}

\textbf{Examples}:
\begin{itemize}
    \item Free particles in three dimensions
    
    In classical physics, particles are regarded as point particles. So the configuration space is just $\mathbb{R}^3 \times \cdots \times \mathbb{R}^3 \cong \mathbb{R}^{3n}$. A choice of general coordinates is just the Euclidean coordinates of each particle.
    
    (In fact there is no natural choice for the background coordinates of the Euclidean space due to Galileo's principle of relativity. But I won't discuss it here.)
    
    \item A stick in two dimensions
    
    The configuration of the stick can be determined by its two end points(or actually any two points on it). However, there is a constraint for the two point: a constant separation. Thus the configuration space is $2+2-1=3$ dimensional and it is diffeomorphic to $\mathbb{R}^2\times S^1$.
    
    \item An infinitely thin stick in three dimensions
    
    This is nearly the same as the above one. Note that infinitely thin means there is no rotational degree of freedom along the axis, which ensures that the configuration can be determined by its end points. The configuration space is of $3+3-1=5$ dimensions and diffeomorphic to $\mathbb{R}^3\times S^2$.
    
    \item A stick of finite thickness in three dimensions
    
    In this case, only the positions of two end points can no longer determine the configuration of the stick. We need to consider the rotation around the axis, which is a degree of freedom of dimension one. Thus the space is diffeomorphic to $\mathbb{R}^3\times S^2\times S^1$.
    
    Note that this is exactly the same for any rigid body in three dimensions since a configuration of a rigid body can be determined by any three points on it. There is another way to count the degrees of freedom: there are three constraints between each pair of the three points. Thus the dimension is of $3+3+3-3=6=3+2+1$.
    
    \item Simple pendulum in two dimensions
    
    This is a historic model. The configuration space of it is just $S^1$. The equation of motion for it is nonlinear. But if the angle is small enough, since $S^1$ is locally diffeomorphic to $\mathbb{R}$, the equation of motion can be approximated as that of a harmonic oscillator.
    
    \item Double pendulum in two dimensions
    
    A double pendulum is a single pendulum connected to another. Thus the configuration space is diffeomorphic to $S^1\times S^1\cong T^2$.
    
\end{itemize}

\textbf{REMARK}:
\begin{itemize}
    \item For problems related to only one point (one particle), we can always embedded it in an Euclidean space. However, the rest example involves two or more moving parts so that even if the configuration manifold can be embedded in a higher dimensional Euclidean space, it is neither natural nor intrinsic.
\end{itemize}

A configuration of the system is represented by a point $p\in M$. As the system evolves with time, it passes a curve $p: I\rightarrow M$. For a given chart, $p$ can be represented by the components $q=(q^1,q^2,\cdots,q^n)$.

The target for the study of dynamics is to determine $p(t)$ or, more explicitly, $q(t)$, which is done by the following principle.

\begin{principle}
The dynamics of a classical system with configuration space $M$ is determined by a given function $L: TM\times I\rightarrow \mathbb{R}$ called Lagrangian such that for given initial and final conditions $q(t_0)=q_0, q(t_1)=q_1$, the path $q(t)$ that the system takes minimizes the action functional $S:\mathrm{Map}(I, M)\rightarrow \mathbb{R}$ given by
\begin{equation}
    S[q(t)]=\int_{t_0}^{t_1}\diff t L(q(t), \dot{q}(t), t).
\end{equation}
This is called the principle of least action. 
\end{principle}

\textbf{REMARK}:
\begin{itemize}
    \item The tangent bundle $TM$: ~\cite{Classical Dynamics: A Contemporary Approach}
    
    When we try to imagine a tangent line to some curve, we always embed it in a three dimension Euclidean space. Tangent vectors for higher dimensional manifolds are not easy to imagine since they do not appear as arrows in three dimensions. Thus we need to find an intrinsic way to understand tangent vectors. For example, imagine a unit sphere $S^2=\{(x, y, z)\vert x^2+y^2+z^2=1\}$ embedded in three dimensional Euclidean space and a point $(x=1,y=0,z=0)$ on it. A tangent vector at that point can be something like $(0, 3.4, 6.2)$ or $(0, 100, -20)$. You may notice that every tangent vector at that point has its $x$-component vanishing. In general, a tangent vector at other points may has three non-zero components. However, the possible values of it only have degrees of freedom two. Thus the more elegant way to do this is to find a tangent space on that point and represent the vector with coordinates of that space.
    
    Then how do we represent the tangent space? Velocities give a good hint. Every tangent vector on that sphere can be regarded as a velocity vector for some trajectory on it. So as a generalization we may define tangent vectors in terms of curves:
    
    For a curve $p:I\rightarrow M$, the velocity or tangent vector can be represented in chart $q$ as
    \begin{equation}
        \tau^i=\dot{q}^i=\frac{\diff}{\diff t}q^i(p(t)).
    \end{equation}
    
    This definition of tangent vector is not intrinsic enough since it relies on curves and curves do not correspond uniquely to tangent vectors. But this will suffice our target. Now we have naturally induced a chart $(q,\dot{q})$ for $TM$ with the chart $q$ for $M$.
\end{itemize}

\subsection{Hamilton formulism}

\subsection{Concrete examples}
\subsubsection{Trivial examples}
\subsubsection{Normal modes and dispersion relation}
\subsubsection{Classical field theory}
\subsubsection{Maxwell's theory and winding number}
